<ion-header [translucent]="true">
  <ion-toolbar>

      <ion-title color="success">Connexion</ion-title>
      <ion-buttons slot="start">
        <ion-button color="success" (click)="navService.goBack()">
            <ion-icon name="arrow-back"></ion-icon>
        </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content padding >
  <div class="contenu">

      <img style="margin:auto;" src="assets/icon/saunyacosmetics.png" alt="">

       <div class="champ">
        <ion-spinner class="spinner"  *ngIf="start=='oui'" text-center name="crescent" color="primary"></ion-spinner>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit(registerForm.value)">

          <div class="form-group">

            <ion-input
              type="text"
              placeholder="&nbsp;Nom"
              formControlName="lastName"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }"
            ></ion-input>
            <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
              <div *ngIf="f.lastName.errors.required">Le nom est requis</div>
            </div>
          </div>

        <div class="form-group">

          <ion-input
            type="text"
            placeholder="&nbsp;Prénom"
            formControlName="firstName"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"
          ></ion-input>
          <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
            <div *ngIf="f.firstName.errors.required">Le prénom est requis</div>
          </div>
        </div>

        <div class="form-group">

           <ion-input
             type="text"
             placeholder="&nbsp;Email"
             formControlName="email"
             class="form-control"
             [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
           ></ion-input>
           <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
             <div *ngIf="f.email.errors.required">L'email est requis</div>
             <div *ngIf="f.email.errors.email">L'email doit être valide</div>
           </div>
         </div>



        <div class="form-group">

          <ion-input
            type="number"
            placeholder="&nbsp;Numéro de téléphone"
            formControlName="numTel"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.numTel.errors }"
          ></ion-input>
          <div *ngIf="submitted && f.numTel.errors" class="invalid-feedback">
            <div *ngIf="f.numTel.errors.required">&nbsp;Mobile(7 chiffres sans autre caractère</div>
          </div>
        </div>

        <div class="form-group">

          <ion-input
            type="password"
            placeholder="&nbsp;Mot de passe"
            formControlName="password"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
          ></ion-input>
          <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
            <div *ngIf="f.password.errors.required">
              Le mot de passe est requis
            </div>
            <div *ngIf="f.password.errors.minlength">
              <h6>
                6 caractères minimum
              </h6>
            </div>
          </div>
        </div>

        <div class="form-group">

          <ion-input
          placeholder="&nbsp;Confirmer le mot de passe"
            type="password"
            formControlName="confirmPassword"
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }"
          ></ion-input>
          <div
            *ngIf="submitted && f.confirmPassword.errors"
            class="invalid-feedback"
          >
            <div *ngIf="f.confirmPassword.errors.required">
              La confirmation du mot de passe est requis
            </div>
            <div *ngIf="f.confirmPassword.errors.mustMatch">
              Les mots de passe doivent correspondre
            </div>
          </div>
        </div>
        <p>
          J'autorise l'établissement à m'envoyer, conformément à la politique de confidentialité, des messages marketing via
        </p>

        <ion-list lines="none">
          <ion-item  no-lines *ngFor="let checkboxe of checkboxes">
            <ion-label>{{checkboxe.value}}</ion-label>
            <ion-checkbox slot="start" formControlName="communication"
            class="form-control" (ionChange)="verifyEvent()">
            </ion-checkbox>
          </ion-item>
        </ion-list>


          <ion-button type="submit" color="success">
          Créer
          </ion-button>

           </form>
       </div>


  </div>
</ion-content>
